$(document).ready(function(){$(".form-add-to-cart").each(function(){var t=$(this).attr("id"),a=$("#"+t+" .numberInput"),n=$("#"+t+" .decreaseButton"),e=$("#"+t+" .increaseButton");n.on("click",function(){var t=parseInt(a.val(),10);t>0&&a.val(t-1)}),e.on("click",function(){var t=parseInt(a.val(),10);a.val(t+1)})})}),$(document).ready(function(){$(".product-infor-main").each(function(){var t=$(this).attr("id"),a=$("#"+t+" .add-to-cart"),n=$(".check-auth").text();a.on("click",function(a){if(a.preventDefault(),1==n){var e=$(this).data("product-id"),r=$(this).data("user-id"),c=$("#"+t+" .thumb-product").attr("src"),o=$("#"+t+" .title-product").text(),i=$("#"+t+" .okPrice-product").text(),u=$("#"+t+" .quantity").val();i=parseFloat(i.replace(/,/g,""));var s=parseInt(u)*i;u>0?$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/addToCart",type:"POST",data:{product_id:e,user_id:r,thumb:c,name:o,price:i,quantity:u,subtotal:s},success:function(t){t.success&&toastr.success(t.message,"Thông báo")},error:function(t){toastr.error("Lỗi thêm giỏ hàng !")}}):toastr.error("Vui lòng nhập số lượng sản phẩm !")}else window.location.href="/login"})})}),$(document).ready(function(){$("#updateCartButton").on("click",function(t){t.preventDefault();var a=[];$(".quantity").each(function(){var t=$(this).data("cart-id"),n=$(this).val();a.push({id:t,quantity:n})}),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/carts/updateQuantities",data:{cart_updates:a},success:function(t){location.reload()},error:function(t){console.log(t)}})})});